{"ast":null,"code":"var _jsxFileName = \"/home/rekha/my-next-app/pages/Spacex.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { withRouter } from \"next/router\";\nimport { FiltersComponent } from \"../components/filter\";\nimport { Header } from \"../components/header\";\nimport { Footer } from \"../components/footer\";\nimport \"../Resources/main.scss\";\nimport { fetchSpacex } from \"../Api\";\nimport { TextHeader } from \"../components/core/heading/TextHeader\";\n\nfunction Spacex({\n  router,\n  spacex,\n  query: {\n    launch_success = \"\",\n    launch_year = \"\",\n    land_success = \"\"\n  }\n}) {\n  console.log(\"props rendered\", query);\n  const {\n    0: data,\n    1: setData\n  } = useState(spacex);\n  const {\n    query\n  } = router;\n\n  const handleApiCall = params => {\n    fetchSpacex(params).then(json => {\n      setData(json);\n    });\n  };\n\n  useEffect(() => {\n    // verify props have changed to avoid an infinite loop\n    // fetch data based on the new query\n    handleApiCall(query);\n    console.log(\"handleApiCall\", query);\n  }, []);\n  useEffect(() => {\n    if (search) {\n      console.log(\"Initial query / update caught!\");\n    }\n  }, [launch_success, launch_year, land_success]);\n  const {\n    history\n  } = props; //   console.log(\"1111111111\", data);\n\n  if (!data) {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }\n    }, \"Error: \", props.error);\n  } else {\n    return __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, __jsx(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }), __jsx(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, __jsx(\"nav\", {\n      className: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, __jsx(FiltersComponent, {\n      history: history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    })), __jsx(\"article\", {\n      className: \"column article\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }, data.map((item, index) => __jsx(\"div\", {\n      key: index,\n      className: \"cards_item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, __jsx(\"img\", {\n      src: item.links.mission_patch_small,\n      className: \"card_image\",\n      alt: \"User Icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: \"card_content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, __jsx(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }\n    }, item.mission_name, \" #\", item.flight_number), item.mission_id.length && __jsx(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 23\n      }\n    }, \"Mission Ids\"), item.mission_id.map(id => __jsx(\"li\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }, id))), item.launch_year && __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 23\n      }\n    }, \"Launch Year:\"), item.launch_year), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, \"Successful Launch:-\"), item.launch_success ? \"True\" : \"false\")))))), __jsx(Footer, {\n      devName: \"Rekha\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }));\n  } // }\n\n}\n\nSpacex.getInitialProps = async ({\n  query\n}) => {\n  console.log(\"ctx\", ctx);\n\n  try {\n    var url = new URL(\"https://api.spacexdata.com/v3/launches?limit=100\");\n    var params = ctx.query; // or:\n\n    url.search = new URLSearchParams(params).toString();\n    const res = await fetch(url);\n    return {\n      spacex: res.data,\n      query\n    };\n  } catch (e) {\n    return {\n      error: e\n    };\n  }\n};\n\nexport default withRouter(Spacex);","map":{"version":3,"sources":["/home/rekha/my-next-app/pages/Spacex.js"],"names":["React","useEffect","useState","axios","withRouter","FiltersComponent","Header","Footer","fetchSpacex","TextHeader","Spacex","router","spacex","query","launch_success","launch_year","land_success","console","log","data","setData","handleApiCall","params","then","json","search","history","props","error","map","item","index","links","mission_patch_small","mission_name","flight_number","mission_id","length","id","getInitialProps","ctx","url","URL","URLSearchParams","toString","res","fetch","e"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { withRouter } from \"next/router\";\nimport { FiltersComponent } from \"../components/filter\";\nimport { Header } from \"../components/header\";\nimport { Footer } from \"../components/footer\";\nimport \"../Resources/main.scss\";\nimport { fetchSpacex } from \"../Api\";\nimport { TextHeader } from \"../components/core/heading/TextHeader\";\n\nfunction Spacex({\n  router,\n  spacex,\n  query: { launch_success = \"\", launch_year = \"\", land_success = \"\" },\n}) {\n  console.log(\"props rendered\", query);\n  const [data, setData] = useState(spacex);\n  const { query } = router;\n\n  const handleApiCall = (params) => {\n    fetchSpacex(params).then((json) => {\n      setData(json);\n    });\n  };\n\n  useEffect(() => {\n    // verify props have changed to avoid an infinite loop\n    // fetch data based on the new query\n    handleApiCall(query);\n    console.log(\"handleApiCall\", query);\n  }, []);\n  useEffect(() => {\n    if (search) {\n      console.log(\"Initial query / update caught!\");\n    }\n  }, [launch_success, launch_year, land_success]);\n  const { history } = props;\n  //   console.log(\"1111111111\", data);\n  if (!data) {\n    return <div>Error: {props.error}</div>;\n  } else {\n    return (\n      <div className=\"row\">\n        <Header />\n        <section>\n          <nav className=\"nav\">\n            <FiltersComponent history={history} />\n          </nav>\n\n          <article className=\"column article\">\n            {data.map((item, index) => (\n              <div key={index} className=\"cards_item\">\n                <img\n                  src={item.links.mission_patch_small}\n                  className=\"card_image\"\n                  alt=\"User Icon\"\n                />\n                <div className=\"card_content\">\n                  <a href=\"#\">\n                    {item.mission_name} #{item.flight_number}\n                  </a>\n                  {item.mission_id.length && (\n                    <ul>\n                      <b>Mission Ids</b>\n                      {item.mission_id.map((id) => (\n                        <li key={id}>{id}</li>\n                      ))}\n                    </ul>\n                  )}\n                  {item.launch_year && (\n                    <div>\n                      <b>Launch Year:</b>\n                      {item.launch_year}\n                    </div>\n                  )}\n                  <p>\n                    <b>Successful Launch:-</b>\n                    {item.launch_success ? \"True\" : \"false\"}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </article>\n        </section>\n\n        <Footer devName=\"Rekha\" />\n        {/* <Header />\n        <br />\n        <div className=\"column1\">\n          <FiltersComponent history={history} />\n        </div>\n        <div className=\"column\">\n          {data.map((item, index) => (\n            <div key={index} className=\"cards_item\">\n              <img\n                src={item.links.mission_patch_small}\n                className=\"card_image\"\n                alt=\"User Icon\"\n              />\n              <div className=\"card_content\">\n                <a href=\"#\">\n                  {item.mission_name} #{item.flight_number}\n                </a>\n                {item.mission_id.length && (\n                  <ul>\n                    <b>Mission Ids</b>\n                    {item.mission_id.map((id) => (\n                      <li key={id}>{id}</li>\n                    ))}\n                  </ul>\n                )}\n                {item.launch_year && (\n                  <div>\n                    <b>Launch Year:</b>\n                    {item.launch_year}\n                  </div>\n                )}\n                <p>\n                  <b>Successful Launch:-</b>\n                  {item.launch_success ? \"True\" : \"false\"}\n                </p>\n              </div>\n            </div>\n          ))}\n        </div>\n        <Footer devName=\"Rekha\" /> */}\n      </div>\n    );\n  }\n  // }\n}\nSpacex.getInitialProps = async ({ query }) => {\n  console.log(\"ctx\", ctx);\n  try {\n    var url = new URL(\"https://api.spacexdata.com/v3/launches?limit=100\");\n    var params = ctx.query; // or:\n    url.search = new URLSearchParams(params).toString();\n    const res = await fetch(url);\n    return { spacex: res.data, query };\n  } catch (e) {\n    return { error: e };\n  }\n};\nexport default withRouter(Spacex);\n"]},"metadata":{},"sourceType":"module"}